from flask import Flask,request,render_template
import pickle
import numpy as np
import pickle
import pandas as pd

app=Flask(__name__)
model=pickle.load(open('house.pkl','rb'))
@app.route('/')

def Home():
	return render_template('index.html')

@app.route('/predict', methods = ["POST"])

def predict():

	location=request.form['location']
	if(location == 'Phase_JP_Nagar'):
		Phase_JP_Nagar=1
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi= 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Bannerghatta_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 1
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
			
	elif(location=='Begur_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 1
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Bellandur'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 1
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Chandapura'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 1
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
		
	elif(location=='Electronic_City'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 1
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Electronic_City_Phase_II'):
		Phase_JP_Nagar=0
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 1
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	
	elif(location=='Electronic_City_Phase_I'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 1
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Haralur_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 1
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Hebbal'):
		Phase_JP_Nagar=0
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 1
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0

	elif(location=='Hennur_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 1
		Hoodi_= 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Hoodi'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 1
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='KR_Puram'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 1
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Kanakpura_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 1
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0

	elif(location=='Marathahalli'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 1
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0

	elif(location=='Other'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 1
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
			
	elif(location=='Raja_Rajeshwari_Nagar'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 1
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Rajaji_Nagar'):
		Phase_JP_Nagar=0
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 1
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Sarjapur'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 1
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Sarjapur_Road'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 1
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Thanisandra'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 1
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Uttarahall'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 1
		Whitefield= 0
		Yelahanka= 0
	elif(location=='Whitefiel'):
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 1
		Yelahanka= 0
	else:
		Phase_JP_Nagar=0	
		Bannerghatta_Road= 0
		Begur_Road= 0
		Bellandur= 0
		Chandapura= 0
		Electronic_City= 0
		Electronic_City_Phase_II= 0
		Electronics_City_Phase_I= 0
		Haralur_Road= 0
		Hebbal= 0
		Hennur_Road= 0
		Hoodi = 0
		KR_Puram= 0
		Kanakpura_Road= 0
		Marathahalli= 0
		Other= 0
		Raja_Rajeshwari_Nagar= 0
		Rajaji_Nagar= 0
		Sarjapur= 0
		Sarjapur_Road= 0
		Thanisandra= 0
		Uttarahalli= 0
		Whitefield= 0
		Yelahanka= 1
	
	total_sqft = float(request.form["total_sqft"])
	balcony = int(request.form["balcony"])
	bath=int(request.form['bathroom'])
	bhk=int(request.form['bhk'])


	prediction=model.predict([[total_sqft,bath,balcony,bhk,Phase_JP_Nagar,Bannerghatta_Road,Begur_Road,Bellandur,Chandapura,
			Electronic_City,Electronic_City_Phase_II,Electronics_City_Phase_I,Haralur_Road,Hebbal,Hennur_Road,Hoodi,KR_Puram,
			Kanakpura_Road,Marathahalli,Other,Raja_Rajeshwari_Nagar,Rajaji_Nagar,Sarjapur,Sarjapur_Road,Thanisandra,Uttarahalli,
			Whitefield,Yelahanka]])

	output=round(prediction[0],2)

	return render_template("index.html",result="Your House Price is Rs. {} Lakhs".format(output))
if __name__ == "__main__":
	app.run()